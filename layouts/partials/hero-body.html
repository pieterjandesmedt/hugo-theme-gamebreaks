{{- $hero       := .Site.Params.hero }}
{{- $title      := index $hero "title" }}
{{- $typewriter := index $hero "typewriter" }}
{{- $subtitle   := index $hero "subtitle" }}
{{- $buttonText := index $hero "buttontext" }}
{{- $buttonLink := index $hero "buttonlink" }}
{{- $image      := index $hero "image" }}
<div class="hero-body">
  <div class="container">
    <div class="columns is-vcentered">
      <div class="column is-5 is-offset-1 landing-caption">
        <h1 class="title is-2 is-bold is-spaced">
          {{ $title }} <br class="is-hidden-widescreen"/><span id="typewriter"></span>
        </h1>
        {{ with $subtitle }}
        <h2 class="subtitle is-5 is-muted">
          {{ . }}
        </h2>
        {{ end }}
        <p>
          <a class="button cta rounded primary-btn raised" href="{{ $buttonLink }}">
            {{ $buttonText }}
          </a>
        </p>
      </div>
      <div class="column is-5 is-offset-1">
        <figure class="image is-4by3">
          <img src="{{ printf "/images/%s" $image | relURL }}" alt="Description">
        </figure>
      </div>
    </div>
  </div>
</div>

<script>
	document.addEventListener('DOMContentLoaded', () => {
		var app = document.getElementById('typewriter');

		var typewriter = new Typewriter(app, {
		loop: true,
		});

		typewriter
		{{ range $typewriter }}
		.typeString('{{ . }}')
		.pauseFor(1500)
		.deleteAll()
		{{ end }}
		.start();
	});
</script>
